/**
 * Subbscribe.js (http://www.subbscribe.com)
 * Copyright (c) 2014 (v2.0) Shlomi Nissan, 1ByteBeta (http://www.1bytebeta.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 */!function(s){s.fn.subbscribe=function(e){function i(s){return"MailChimp"==c.list?"success"!=s.result?!0:!1:"CampaignMonitor"==c.list?400===s.Status?!0:!1:!0}function t(){s("#subbscribe input").each(function(){s(this).val("")})}function b(s){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(s)}function o(){var e=!0,i=s("#subb-NAME"),t=s("#subb-EMAIL");return c.emailonly||(i.val().length<2?(e=!1,i.addClass("error")):i.removeClass("error")),b(t.val())?t.removeClass("error"):(e=!1,t.addClass("error")),e}function n(){var e=s("#my_two_cents");return e.val().length>0}function r(s,e,i){var t=new Date;t.setTime(t.getTime()+24*i*60*60*1e3);var b="expires="+t.toUTCString();document.cookie=s+"="+e+"; "+b+"; path=/"}function a(s){for(var e=s+"=",i=document.cookie.split(";"),t=0;t<i.length;t++){for(var b=i[t];" "==b.charAt(0);)b=b.substring(1);if(0==b.indexOf(e))return b.substring(e.length,b.length)}return""}var c=s.extend({list:"MailChimp",url:"//1bytebeta.us9.list-manage.com/subscribe/post?u=1c261e60d8259c0c636801494&id=7fa99bf359",title:"Never miss a post!",text:"Get our latest posts and announcements in your inbox. You won't regret it!",name:"Subbscribe",color:"#ee6262",thumbnail:"https://s3-ap-southeast-2.amazonaws.com/subbscribe/img/avatar.png",placeholder_name:"Name",placeholder_email:"Email Address",footer:'Powered by <a href="http://www.subbscribe.com" target="_blank">Subbscribe.com</a>',subscribe_button1:"Subscribe",subscribe_button2:"Subscribe",error_text:"Oops! Check your details and try again.",success_text:"Thanks! Check your email for confirmation.",close_hide_days:1,onDisplay:!1,onSubbscribe:!1,onSubbscribeBot:!1,onSubbscribeError:!1,onClose:!1,error_title:"Oops!",emailonly:!1},e);if(""==c.url)return void console.log("Subbscribe Error: You must provide a valid MailChimp form URL.");var u="",l="";if("MailChimp"==c.list)u="NAME",l="EMAIL",_action=c.url.replace("/post?","/post-json?").concat("&c=?");else{if("CampaignMonitor"!=c.list)return void console.log("Subbscribe Error: list value must be set to MailChimp or CampaignMonitor");u="cm-name",l="cm-jydlht-jydlht",_action=c.url+"?callback=?"}var d="",m='<input type="email" name="'+l+'" id="subb-EMAIL" placeholder="'+c.placeholder_email+'" />';c.emailonly||(d=' <input type="text" name="'+u+'" id="subb-NAME" placeholder="'+c.placeholder_name+'" />');var p='<div id="subbscribe"> <div class="subb-title">'+c.title+' <img class="close-x" src="https://s3-ap-southeast-2.amazonaws.com/subbscribe/img/close.svg" />  </div> <div class="subb-body"> <div class="subb-hidden"> <div class="subb-thumbnail"> <img style="width: 40px; height: 40px;" src="'+c.thumbnail+'" /> </div> <div class="subb-hidden"> <div class="subb-site"> &nbsp;'+c.name+' </div> <button class="subb-button show-form">'+c.subscribe_button1+'</button> </div> </div> <div class="subb-form" style="display: none"> <p>'+c.text+'</p> <form id="mc-embedded-subbscribe-form" method="post" action="'+c.url+'"> <div class="subbscribe-alert subbscribe-error" style="display: none">'+c.error_text+'</div> <div class="subbscribe-alert subbscribe-success" style="display: none">'+c.success_text+'</div> <div class="text-input"> '+d+' </div> <div class="text-input"> '+m+' </div> <div style="position: absolute; left: -5000px;"><input type="text" name="my_two_cents" id="my_two_cents" tabindex="-1" value=""></div> <button class="subb-button submit-form" type="submit" style="width: 100%; margin-bottom: 10px;">'+c.subscribe_button2+'</button></form> <div class="footer">'+c.footer+"</div> </div> </div> </div>";1!=a("subbscribe-hidden")&&(this.append(p),s("#subbscribe").css("width",s(".subb-site").width()+200),s("#subbscribe").addClass("animated slideInRight"),c.onDisplay.call()),s("#subbscribe .subb-button").css("background-color",c.color),s("#subbscribe .close-x").click(function(){s("#subbscribe").toggleClass("slideInRight fadeOut"),s("#subbscribe").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){s("#subbscribe").remove(),r("subbscribe-hidden",1,c.close_hide_days)}),c.onClose.call()}),s("#subbscribe .show-form").click(function(){s("#subbscribe .subb-hidden").hide(),s("#subbscribe .subb-form").show()}),s("#mc-embedded-subbscribe-form").submit(function(e){e.preventDefault(),n()?(t(),s(".subbscribe-success").slideDown(),setTimeout(function(){s("#subbscribe").addClass("animated fadeOut")},2e3),s("#subbscribe").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){s("#subbscribe").remove(),r("subbscribe-hidden",1,1825),c.onSubbscribeBot.call()})):o()?(s("#subbscribe .subbscribe-error").slideUp(),s("#subbscribe .submit-form").attr("disabled","disabled"),s.ajax({url:_action,type:"post",data:s(this).serialize(),dataType:"json",contentType:"application/json; charset=utf-8",success:function(e){if(i(e)){var b='<div class="subb-title">'+c.error_title+' <img class="close-x" src="https://s3-ap-southeast-2.amazonaws.com/subbscribe/img/close.svg" />  </div> <div class="subb-body"> <p>'+e.msg+" </p> </div>";s("#subbscribe").html(b),console.log("Subbscribe Error: submission failed."),c.onSubbscribeError.call()}else t(),s(".subbscribe-success").slideDown(),setTimeout(function(){s("#subbscribe").addClass("animated fadeOut")},2e3),s("#subbscribe").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){s("#subbscribe").remove(),r("subbscribe-hidden",1,365),c.onSubbscribe.call()})}})):s("#subbscribe .subbscribe-error").slideDown()})}}(jQuery);